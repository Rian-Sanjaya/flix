<h1><%= pluralize(@movies.size, 'Movie') %></h1>

<% @movies.each do |movie| %>
	<article>
	    <!--<header><h2><%= link_to(movie.title, movie_path(movie.id)) %></h2></header>-->
	    <!--When generating links to an object's show page, you can pass that object as the second parameter to link_to-->
	    <!--you don't have to call the named route method. Given the movie object, the link_to method assumes that it should call the movie_path method for you-->
	    <header><h2><%= link_to movie.title, movie %></h2></header>
	    <!--the separator key make sure the shortened description breaks on a space rather than chopping off a word-->
	    <p><%= truncate(movie.description, length: 40, separator: ' ') %></p>
	    <table>
	        <tr>
	            <th>Release:</th>
	            <td><%= movie.released_on.to_s(:release_date) %> (<%= time_ago_in_words(movie.released_on) %> ago)</td>
	        </tr>
	        <tr>
	            <th>Rating:</th>
	            <td><%= movie.rating %></td>
	        </tr>
	        <tr>
	            <th>Total Gross:</th>
	            <td><%= format_total_gross(movie) %></td>
	        </tr>
	    </table>
	</article>
<% end %>

